{% extends "base.html" %}
{% block title %}{{ super() }} - Releases{% endblock %}

{% block head %}
<link rel='stylesheet' type='text/css' href='{{ url_for('static', filename='css/jquery.dataTables.css') }}' />
{% endblock %}

{% block bottom %}
{{ super() }}
<script type='text/javascript' src='{{ url_for('static', filename='js/jquery.dataTables.min.js') }}'></script>
<script type='text/javascript' src='{{ url_for('static', filename='js/jquery.dataTables.fnAddTr.js') }}'></script>
<script type='text/javascript' src='{{ url_for('static', filename='js/jquery-ui-1.9.2.custom.min.js') }}'></script>
<script type='text/javascript' src='{{ url_for('static', filename='js/releases.js') }}'></script>
{% endblock %}

{% block content %}

{% if addForm %}
<div class="hidden-sm hidden-xs">
 <h3>Add a new release: </h3>
 <form id="ReleasesForm" method="post" role="form" enctype="multipart/form-data" class="form-horizontal">
  {{ addForm.hidden_tag() }}
  {%- for item in addForm %}
   {%- if item.id in ['new_release-product',
                      'new_release-version',
                      'new_release-name'] %}
   <div class="form-group">
    {{ item.label(class="col-sm-1 control-label")|safe }}
    <div class="col-sm-8">
     <input type="text" id="{{ item.id|safe }}" class="form-control" name="{{ item.name|safe }}">
    </div> <!-- col-sm-10-->
   </div> <!-- form-group -->
  {%- endif %}
  {%- endfor %}
  <div class="form-group">
     <label for="new_release-blob" class="col-sm-1 control-label">Data</label>
    <div class="col-sm-8">
     <input id="new_release-blob" name="new_release-blob" type="file">
    </div> <!-- col-sm-8 -->
  </div> <!-- form-group -->
  <div class="form-group">
   <div class="col-sm-offset-1 col-sm-8">
     <button type="submit" class="btn btn-default">Submit!</button>
    </div>
  </div>
 </form>
    {% endif %}
</div>
<div id='releases'>
    {% include 'fragments/releases.html' %}
</div>
{% endblock %}
